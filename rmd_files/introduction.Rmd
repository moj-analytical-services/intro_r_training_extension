# Introduction

This course builds on the original Introduction to R training course, and covers additional programming concepts. It provides examples that demonstrate how the Tidyverse packages can assist with tasks typically encountered in DASD.

## Learning outcomes

### By the end of this session you should know how to:

 - Classify a variable in a dataframe, based on a set of conditions
 - Apply a function to multiple columns in a dataframe
 - Search for a string pattern in a dataframe
 - Reshape dataframes
 - Deal with missing values in a dataframe


## Before we start

To follow along with the code run during this session and participate in the exercises, open the script "example_code.R" in RStudio. All the code that we'll show in this session is stored in "example_code.R", and you can edit this script to write solutions to the exercises. You may also want to have the course [read me](https://github.com/moj-analytical-services/intro_r_training_extension) open as a reference.

First, we need to load a few packages and an example dataset.

```{r message=F, warning=F}
# Load packages
library(s3tools)
library(dplyr)
library(tidyr)
```

```{r message=F, warning=F}
# Read data
offenders <- s3tools::s3_path_to_full_df("alpha-r-training/intro-r-training/Offenders_Chicago_Police_Dept_Main.csv")

# offenders_trial  <- s3tools::s3_path_to_full_df("alpha-r-training/intro-r-training/Offenders_Chicago_Police_Dept_Trial.csv")
# offenders_trial <- offenders_trial %>% rename(BIRTH_DATE=DoB)
# offenders <- dplyr::left_join(offenders, offenders_trial, by=c("LAST", "BIRTH_DATE"))

prosecutions_and_convictions <- s3tools::s3_path_to_full_df(
  "alpha-r-training/writing-functions-in-r/prosecutions-and-convictions-2018.csv")

# Filter for Magistrates Court to extract the prosecutions
prosecutions <- prosecutions_and_convictions %>%
  filter(`Court.Type` == "Magistrates Court")
```

